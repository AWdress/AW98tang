# 更新日志

## v3.2 (2025-10-04)

### Web界面全面重构 ⭐⭐⭐
- **现代化响应式设计** - 完全重写Web界面，支持完美的移动端适配
- **左侧菜单栏** - 专业的侧边栏导航，支持移动端抽屉式菜单
- **多页面架构** - 仪表盘、回复记录、运行日志、系统配置四大模块
- **历史回复展示** - 显示所有历史回复记录（最多1000条），而不仅仅是今日
- **卡片式设计** - 类似论坛帖子列表的现代化卡片布局
- **更好的视觉效果** - 渐变色、毛玻璃效果、流畅动画

### 数据管理改进
- **历史回复存储** - `stats_manager.py` 新增 `all_replies` 字段保存所有历史回复
- **自动保存机制** - 每次回复自动添加到历史记录（最多保留1000条）
- **更完善的API** - 新增 `get_all_replies()` 方法获取历史回复

### 响应式优化
- **完美移动端适配** - 针对手机屏幕优化布局和交互
- **触摸友好** - 大按钮、易点击的菜单项
- **自动收缩菜单** - 移动端自动隐藏侧边栏，节省空间
- **滚动优化** - 美化的滚动条，更流畅的滚动体验

### 文件变更
- `templates/index.html` - 完全重写，采用现代化设计
- `stats_manager.py` - 新增历史回复存储功能
- `CHANGELOG.md` - 更新日志

### 界面特性
- 左侧固定菜单栏（桌面端），抽屉式菜单（移动端）
- 4个独立页面：仪表盘、回复记录、运行日志、系统配置
- 响应式卡片布局，适配各种屏幕尺寸
- 流畅的页面切换动画
- 专业的配色方案和视觉效果

---

## v3.1 (2025-10-04)

### 新增功能 ⭐
- **登录状态持久化** - 实现 Cookie 自动保存和恢复
  - 首次登录后自动保存登录状态到 `data/cookies.pkl`
  - 后续运行自动检测并使用已保存的登录状态
  - 登录状态过期时自动重新登录并更新
  - 大幅降低被封号风险，避免频繁登录触发反作弊机制

### 技术改进
- 添加 `save_cookies()` 方法 - 保存登录 cookies 到本地
- 添加 `load_cookies()` 方法 - 从本地加载 cookies
- 添加 `check_login_status()` 方法 - 智能检测登录状态
- 优化 `run()` 方法 - 优先使用已保存的登录状态

### 文件变更
- `selenium_auto_bot.py` - 新增登录状态管理功能
- `README.md` - 更新文档说明新功能
- `docker-compose.yml` - 更新注释说明 data 目录用途
- `CHANGELOG.md` - 新增更新日志文件

### 使用说明
无需任何配置更改，功能自动启用：
1. 首次运行时正常登录
2. 登录成功后自动保存状态
3. 后续运行自动使用保存的状态
4. 如需重置登录，删除 `data/cookies.pkl` 即可

---

## v3.0 (2025-10-03)

### 初始版本
- 智能回复系统（200+ 色情语句库）
- 自动登录、回复、签到
- Web 控制面板
- 定时任务支持
- Docker 部署
- 测试模式

